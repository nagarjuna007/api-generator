<section class="pb-2 text-right form-inline">
    <label class="col-sm-2" for="exampleCheck1">Application Name</label>
    <input type="text" class="form-control col-sm-2" id="exampleInputPassword1" [(ngModel)]="appModel.appName" placeholder="Application Name">
    <a class="edit" data-toggle="modal" data-target="#edit" (click)="addForm()"><i class="fas fa-plus-square"></i></a>
    <a class="btn btn-primary" (click)="saveLocal()">Save</a>
    <a class="btn btn-primary" (click)="build()">Build</a>
    <a class="btn btn-primary" href="/api/download?fileName={{appModel.appName}}">Download</a>
</section>
<section class="bg-white p-2">


    <div class="reports">
        <!--Card Start-->
        <div class="d-flex justify-content-center bd-highlight mb-3" *ngFor="let entity of appModel.entites">
            <div class="p-2 bd-highlight">
                <div class="card position-relative">
                    <div class="card-body">
                        <a class="edit" data-toggle="modal" data-target="#edit" (click)="editForm(entity)"><i class="far fa-edit"></i></a>
                        <a class="delete"><i class="far fa-window-close"></i></a>
                        <h3>{{entity.name}}</h3>
                        <ul>
                            <li *ngFor="let column of entity.columns">{{column.name}} {{column.type}}</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>


        <!--Card end-->
    </div>
    <!-- <p>{{appModel|json}}</p> -->
</section>

<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <form [formGroup]="entityForm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">{{formMode}}</h5>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <input type="text" class="form-control" id="exampleInputPassword1" formControlName="name" placeholder="Table Name">
                        </div>
                    </div>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
                </div>
                <div class="modal-body">
                    <div formArrayName="columns" *ngFor="let column of entityForm.get('columns'); let col = index;">
                        <div class="row mb-2" [formGroupName]="col">
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="exampleInputPassword1" formControlName="name" placeholder="Column Name">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <select class="form-control" id="exampleFormControlSelect1" formControlName="type" placeholder="Data Type">
                                        <option *ngFor="let dataType of dataTypes" [value]="dataType">{{dataType}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group form-inline mb-1 mt-1">
                                    <div class="form-check pr-4">
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" formControlName="mandatory">
                                        <label class="form-check-label" for="exampleCheck1">Nullable</label>
                                    </div>
                                    <div class="form-check pr-4">
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" formControlName="primary">
                                        <label class="form-check-label" for="exampleCheck1">Primary Key</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" formControlName="autoGen">
                                        <label class="form-check-label" for="exampleCheck1">Auto Gene</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- <p>{{entityForm.value|json}}</p> -->
                </div>
                <div class="modal-footer">
                    <button type="button" #saveBtn class="btn btn-secondary" data-dismiss="modal" (click)="save()">Save</button>
                    <button type="button" class="btn btn-primary" (click)="addItem()">Add Column</button>
                </div>
            </div>
        </form>
    </div>
</div>